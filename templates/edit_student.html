<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Student</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-100 p-8 text-gray-900">

<div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-300">

    <h2 class="text-2xl font-bold mb-6 text-blue-800">Edit Student</h2>

    <form method="POST" enctype="multipart/form-data" class="space-y-4">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="font-semibold text-gray-700">Name</label>
                <input type="text" name="name" value="{{ student.get('name') }}" required class="w-full p-2 border border-gray-300 rounded-lg focus:outline-blue-500">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Email</label>
                <input type="email" name="email" value="{{ student.get('email') }}" required class="w-full p-2 border border-gray-300 rounded-lg focus:outline-blue-500">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Phone</label>
                <input type="text" name="phone" value="{{ student.get('phone') }}" required class="w-full p-2 border border-gray-300 rounded-lg focus:outline-blue-500">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Hallticket</label>
                <input type="text" name="hallticket" value="{{ student.get('hallticket') }}" required class="w-full p-2 border border-gray-300 rounded-lg focus:outline-blue-500">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Date of Birth</label>
                <input type="date" name="dob" value="{{ student.get('dob') }}" required class="w-full p-2 border border-gray-300 rounded-lg focus:outline-blue-500">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Address</label>
                <input type="text" name="address" value="{{ student.get('address') }}" required class="w-full p-2 border border-gray-300 rounded-lg focus:outline-blue-500">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Profile Pic</label>
                <input type="file" name="profile_pic" class="w-full">
            </div>
        </div>

        <hr class="my-6">

        <h3 class="text-lg font-bold mb-2 text-blue-800">Academic Details</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="font-semibold text-gray-700">10th Hallticket</label>
                <input type="text" name="tenth_htno" value="{{ student.get('tenth_htno') }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label class="font-semibold text-gray-700">10th Result</label>
                <input type="text" name="tenth_result" value="{{ student.get('tenth_result') }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label class="font-semibold text-gray-700">12th Hallticket</label>
                <input type="text" name="twelfth_htno" value="{{ student.get('twelfth_htno') }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label class="font-semibold text-gray-700">12th Result</label>
                <input type="text" name="twelfth_result" value="{{ student.get('twelfth_result') }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Year</label>
                <input type="text" name="year" value="{{ student.get('year') }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Branch</label>
                <input type="text" name="branch" value="{{ student.get('branch') }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
            <div>
                <label class="font-semibold text-gray-700">Date of Joining</label>
                <input type="date" name="doj" value="{{ student.get('doj') }}" class="w-full p-2 border border-gray-300 rounded-lg">
            </div>
        </div>

        <hr class="my-6">

        <h3 class="text-lg font-bold mb-2 text-blue-800">Subjects</h3>

        {% for sem, names in subjects.items() %}
        <div class="mb-6">
            <h4 class="font-semibold mb-2">{{ sem[1] }}-{{ sem[2] }} Subjects</h4>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                {% for i in range(names | length) %}
                <input type="text" name="{{ sem }}_{{ i+1 }}" value="{{ student.get(sem ~ '_' ~ (i+1)) if student.get(sem ~ '_' ~ (i+1)) else names[i] }}" placeholder="{{ names[i] }}" class="w-full p-2 border border-gray-300 rounded-lg">
                {% endfor %}
            </div>
        </div>
        {% endfor %}

        <div class="mt-6">
            <button type="submit" class="bg-blue-800 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-xl">
                Update Student
            </button>
        </div>

    </form>
</div>

</body>
</html>
